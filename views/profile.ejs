<%- include('partials/header_nav') -%>

<body class="body-bg container min-vh-100 text-color d-flex flex-column">
  <div class="row">
      <div class="col-md-6 card profile-card mt-3">
        <div class="card-body">
          <div>
            <p><strong>Welcome, </strong> <%= user.userName %>!</p>
          </div>
          <div class="mt-4">
            <h2>Add an entry</h2>
            <form action="/post/createPost" enctype="multipart/form-data" method="POST">
              <div class="mb-3">
                  <label for="date" class="form-label">Date</label>
                  <input type="date" class="form-control" id="date" name="date">
              </div>
              <div class="mb-3">
                <fieldset class="row">
                  <legend>How are you feeling today?</legend>
                  <div class="col-4 col-lg-3">
                    <input type="checkbox" id="happy" name="mood" value="Happy" class="checkbox" />
                    <label for="happy">Happy</label>
                  </div>
                  <div class="col-4 col-lg-3">
                    <input type="checkbox" id="sad" name="mood" value="Sad" class="checkbox" />
                    <label for="sad">Sad</label>
                  </div>
                  <div class="col-4 col-lg-3">
                    <input type="checkbox" id="angry" name="mood" value="Angry" class="checkbox" />
                    <label for="angry">Angry</label>
                  </div>
                  <div class="col-4 col-lg-3">
                    <input type="checkbox" id="stressed" name="mood" value="Stressed" class="checkbox" />
                    <label for="stressed">Stressed</label>
                  </div>
                  <div class="col-4 col-lg-3">
                    <input type="checkbox" id="anxious" name="mood" value="Anxious" class="checkbox" />
                    <label for="anxious">Anxious</label>
                  </div> 
                  <div class="col-4 col-lg-3">
                    <input type="checkbox" id="excited" name="mood" value="Excited" class="checkbox" />
                    <label for="excited">Excited</label>
                  </div>
                  <div class="col-4 col-lg-3">
                    <input type="checkbox" id="neutral" name="mood" value="Neutral" class="checkbox" />
                    <label for="neutral">Neutral</label>
                  </div>
                  <div class="col-4 col-lg-3">
                    <input type="checkbox" id="tired" name="mood" value="Tired" class="checkbox" />
                    <label for="tired">Tired</label>
                  </div>
                  <div>
                    <input class="checkbox" type="checkbox" id="checker">
                    <label class="label cursor-pointer"></label>
                    <span class="label-text">*Add custom mood*</span>
                    <input class="input input-bordered" type="text" name="mood" id="userInput" disabled="disabled" placeholder="mood">
                  </div>
                </fieldset>
                  
              </div>
              <div class="mb-3">
                <label for="grateful" class="form-label">What are your grateful for today?</label>
                <textarea class="form-control" id="grateful" name="grateful"></textarea>
            </div>
            <div class="mb-3">
              <label for="looking-forward" class="form-label">What are your looking forward to?</label>
              <textarea class="form-control" id="looking-forward" name="looking_forward"></textarea>
          </div>
          <div class="pb-3">             
            <button type="submit" class="btn btn-primary btn-profile" value="Upload">Submit</button>
          </div>
            </form>
          </div>
        </div>
      </div>
      <div class="col-md-6 text-center mt-3">
        <h3>Current Week Entries: <br><%=moment().day(1).format('MMM Do')%> - <%=moment().day(7).format('MMM Do')%></h3>
        <ul class="list-unstyled row">
          <% for(var i=0; i<posts.length; i++) {%>
            <%if(posts[i].user == user.id){ %>
            <li class="mt-3 col-3 col-md-12">
              <a class="text-decoration-none text-color" href="/post/<%= posts[i]._id%>">
                <span><%=moment.utc(posts[i].date).format('Do MMM, YYYY') %></span>
              </a>
            </li>
            <%}%>
          <% } %>
          </ul>
        <div class="pb-3">
          <a class="btn btn-primary btn-profile" href="/feed">View all Entries</a>
        </div>  
      </div>  
    </div>
  </body>

<%- include('partials/footer') -%>